<!DOCTYPE html>
<html lang="ru">
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Quiz Game</title>
<link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet">
<script src="/socket.io/socket.io.js"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.4.0/dist/confetti.browser.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Raleway',sans-serif;background:#f5f5f5;overflow:hidden;}
#countdownOverlay{position:absolute;inset:0;background:rgba(0,0,0,0.7);display:none;align-items:center;justify-content:center;z-index:10}
#countdownOverlay.show{display:flex}
#countdownOverlay h1{color:#fff;font-size:96px;margin:0}
#join,#lobby,#gameScreen,#result{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column}
#lobby,#result,#gameScreen{display:none}
.card{background:#fff;padding:20px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,0.1);width:90%;max-width:400px;text-align:center}
input,button{width:100%;padding:12px;margin:8px 0}
button{border:none;border-radius:8px;background:linear-gradient(90deg,#667eea,#764ba2);color:#fff;cursor:pointer}
#playersList{width:100%;text-align:left}
#gameScreen{display:none;position:relative;width:100%;height:100%}
#flag{width:35px;position:absolute;top:20px;left:50%;transform:translateX(-50%);z-index:2}
#playersContainer{#playersContainer{top:0;
 bottom: auto;
position:absolute;left:0;width:100%;z-index:1}
#questionContainer{position:absolute;left:50%;bottom:0;transform:translateX(-50%);z-index:3;transition:opacity .8s,transform .8s}
#questionContainer.hidden{opacity:0;transform:translateX(-50%) translateY(100%)}
#questionContainer.visible{opacity:1;transform:translateX(-50%) translateY(0)}
.question-card{background:#fff;padding:20px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,0.1);width:90vw;max-width:400px}
.option-btn{width:100%;padding:12px;margin:8px 0;border:none;border-radius:8px;background:#667eea;color:#fff}
.option-btn.correct{background:#C8F7C5!important}  /* light green */
.option-btn.wrong{background:#F7C5C5!important}    /* gentle red */
.loseOverlay{position:absolute;inset:0;background:rgba(0,0,0,0.7);display:none;align-items:center;justify-content:center;z-index:20}
.loseOverlay.show{display:flex}
.loseOverlay h2{color:#fff;font-size:24px}
</style>
</head><body>
<div id="countdownOverlay"><h1 id="countdownNum"></h1></div>
<div id="join"><div class="card"><h2>Введите никнейм</h2><input id="nick" placeholder="Никнейм"><button id="joinBtn">Присоединиться</button></div></div>
<div id="lobby"><div class="card"><h2>Лобби</h2><div id="playersList"></div></div></div>
<div id="gameScreen"><img id="flag" src="flag.png"><div id="playersContainer"></div></div>
<div id="questionContainer" class="hidden"></div>
<div id="result"><div class="card"><h2 id="winnerText"></h2><table><thead><tr><th>Игрок</th><th>Прав.</th><th>Время (с)</th></tr></thead><tbody id="stats"></tbody></table></div></div>
<div id="loseOverlay" class="loseOverlay"><h2>Вы проиграли :(</h2></div>

<template id="question-template">
  <div class="question-card">
    <h3 class="question-text"></h3>
    <div class="options"></div>
  </div>
</template>
<template id="circle-template">
  <div class="circle">
    <div class="circle-inner"></div>
  </div>
</template>
<script src="client.js"></script>
</body></html>